---
title: "如何提取R包中的小品文? "
author: " "
date: "2019-05-07"
slug: vignette
tags: R
---


用R实现各种分析任务需要学习不同的R包。学习R包的同时需要结合统计理论。因此仅仅看帮助文档和用户手册（Reference manual）是不够的。作为学习R包的重要资源，小品文（Vignettes，或翻译为简介）将统计理论、代码与示例相结合，是学习R包和其中思想的好材料。下文讲解如何使用`utils::vignette`和`utils::browseVignettes`两个函数获取R包的官方小品文。  

在CRAN上发布的R包往往会有一个官方主页。在搜索引擎中键入R rpart或CRAN rpart便能够找到此包主页。 

`rpart`的官方主页如下所示：  

```{r 1, echo=F, out.width = '100%'}
knitr::include_graphics("/img/vignette/Capture.png")
```


其中，`Downloads`一栏下便有用户手册和小品文的下载按钮，点击即可下载。  

```{r 2, echo=F, out.width = '100%'}
knitr::include_graphics("/img/vignette/Capture2.png")
```


这种方法其实多此一举了！

我们在下载R包时，已将小品文下载下来。我们可以使用`utils`包中的`vignette`函数自动提取小品文。但首先我们需要提取R包的小品文名称，代码如下：  

```{r 3,include=T,eval = F}
library(utils)
vignette(, package = "rpart")
```

输出结果如下所示：  
```{r 4,include=T,eval = F}
Vignettes in package ‘rpart’:

longintro   Introduction to Rpart 
            (source, pdf)
usercode    User Written Split
            Functions (source, pdf)
```

可以发现，`rpart`包有两篇小品文，《Introduction to Rpart》和《User Written Split Functions》。分别简称为"longintro"和"usercode"。现在，就可以根据简称提取小品文了，输入：

```{r 5,include=T,eval = F}
vignette("longintro", package = "rpart")
```

第一篇《Introduction to Rpart》的pdf便会自动跳出：

```{r 6, echo=F, out.width = '100%'}
knitr::include_graphics("/img/vignette/Capture3.png")
```

然后便可以阅读了。这里更推荐使用`browseVignettes`函数，操作更为简单。弹出的小品文列表直接点击就可以阅读。

```{r 7,include=T,eval = F}
browseVignettes(package = "rpart")
```

很多R包的小品文是PDF版本，当然还有的是html形式的，如`ggplot2`的小品文：  

```{r 8,include=T,eval = F}
vignette("ggplot2-specs", package = "ggplot2")
```
  
```{r 9, echo=F,out.width = '100%'}
knitr::include_graphics("/img/vignette/Capture4.png")
```








