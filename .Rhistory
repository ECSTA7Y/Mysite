colnames(sms)[1] <- 'category' #修改变量名
colnames(sms)[2] <- 'message' #修改变量名
#colnames(sms) <- c("category", "message")
#raw.data <- read.csv("E:/MaLearning/SPAM text message 20170820 - Data.csv", header=TRUE, sep=",", quote='\"\"', stringsAsFactors=FALSE)
View(sms)
smswd <- sms %>%
unnest_tokens_(word,Message) %>%
filter(!str_detect(word, "^[0-9]*$")) %>%
# remove stop words
anti_join(stop_words) %>%
mutate(word = SnowballC::wordStem(word))
smswd <- sms %>%
unnest_tokens(word,Message) %>%
filter(!str_detect(word, "^[0-9]*$")) %>%
# remove stop words
anti_join(stop_words) %>%
mutate(word = SnowballC::wordStem(word))
smswd <- sms %>%
tibble() %>%
unnest_tokens(word,Message) %>%
filter(!str_detect(word, "^[0-9]*$")) %>%
# remove stop words
anti_join(stop_words) %>%
mutate(word = SnowballC::wordStem(word))
smswd <- sms %>%
mutate(message = as.character(message)) %>%
tibble() %>%
unnest_tokens(word,message) %>%
filter(!str_detect(word, "^[0-9]*$")) %>%
# remove stop words
anti_join(stop_words) %>%
mutate(word = SnowballC::wordStem(word))
smswd <- sms %>%
mutate(message = as.character(message)) %>%
tibble()
View(smswd)
smswd %>%
unnest_tokens(word,message) %>%
filter(!str_detect(word, "^[0-9]*$")) %>%
# remove stop words
anti_join(stop_words) %>%
mutate(word = SnowballC::wordStem(word))
smswd %>%
unnest_tokens_(word,message)
smswd$message %>%
unnest_tokens_(word,message)
library(magrittr)
library(quanteda)
library(RColorBrewer)
library(tidytext)
library(dplyr)
library(readr)
sms <- read_csv("E:/MaLearning/SPAM text message 20170820 - Data.csv")
#sms <- tibble(sms)
colnames(sms)[1] <- 'category' #修改变量名
colnames(sms)[2] <- 'text' #修改变量名
#colnames(sms) <- c("category", "message")
#raw.data <- read.csv("E:/MaLearning/SPAM text message 20170820 - Data.csv", header=TRUE, sep=",", quote='\"\"', stringsAsFactors=FALSE)
smswd <- sms %>%
mutate(text = as.character(text)) %>%
tibble()
smswd %>%
unnest_tokens(word,text) %>%
filter(!str_detect(word, "^[0-9]*$")) %>%
# remove stop words
anti_join(stop_words) %>%
mutate(word = SnowballC::wordStem(word))
smswd
library(magrittr)
library(quanteda)
library(RColorBrewer)
library(tidytext)
library(dplyr)
library(readr)
sms <- read_csv("E:/MaLearning/SPAM text message 20170820 - Data.csv")
#sms <- tibble(sms)
colnames(sms)[1] <- 'category' #修改变量名
colnames(sms)[2] <- 'text' #修改变量名
#colnames(sms) <- c("category", "message")
#raw.data <- read.csv("E:/MaLearning/SPAM text message 20170820 - Data.csv", header=TRUE, sep=",", quote='\"\"', stringsAsFactors=FALSE)
sms
smswd <- sms %>%
mutate(text = as.character(text)) %>%
tibble()
sms
smswd %>%
unnest_tokens(word,text) %>%
filter(!str_detect(word, "^[0-9]*$")) %>%
# remove stop words
anti_join(stop_words) %>%
mutate(word = SnowballC::wordStem(word))
smswd
View(smswd)
library(magrittr)
library(quanteda)
library(RColorBrewer)
library(tidytext)
library(dplyr)
library(readr)
sms <- read_csv("E:/MaLearning/SPAM text message 20170820 - Data.csv")
#sms <- tibble(sms)
colnames(sms)[1] <- 'category' #修改变量名
colnames(sms)[2] <- 'text' #修改变量名
#colnames(sms) <- c("category", "message")
#raw.data <- read.csv("E:/MaLearning/SPAM text message 20170820 - Data.csv", header=TRUE, sep=",", quote='\"\"', stringsAsFactors=FALSE)
sms$text
library(magrittr)
library(quanteda)
library(RColorBrewer)
library(tidytext)
library(dplyr)
library(readr)
sms <- read_csv("E:/MaLearning/SPAM text message 20170820 - Data.csv")
#sms <- tibble(sms)
colnames(sms)[1] <- 'category' #修改变量名
colnames(sms)[2] <- 'text' #修改变量名
txt <- as.character(sms$text)
#colnames(sms) <- c("category", "message")
#raw.data <- read.csv("E:/MaLearning/SPAM text message 20170820 - Data.csv", header=TRUE, sep=",", quote='\"\"', stringsAsFactors=FALSE)
library(magrittr)
library(quanteda)
library(RColorBrewer)
library(tidytext)
library(dplyr)
library(readr)
sms <- read_csv("E:/MaLearning/SPAM text message 20170820 - Data.csv")
#sms <- tibble(sms)
colnames(sms)[1] <- 'category' #修改变量名
colnames(sms)[2] <- 'text' #修改变量名
txt <- as.character(sms$text)
txt
#colnames(sms) <- c("category", "message")
#raw.data <- read.csv("E:/MaLearning/SPAM text message 20170820 - Data.csv", header=TRUE, sep=",", quote='\"\"', stringsAsFactors=FALSE)
library(magrittr)
library(quanteda)
library(RColorBrewer)
library(tidytext)
library(dplyr)
library(readr)
sms <- read_csv("E:/MaLearning/SPAM text message 20170820 - Data.csv")
#sms <- tibble(sms)
colnames(sms)[1] <- 'category' #修改变量名
colnames(sms)[2] <- 'text' #修改变量名
sms$text <- as.character(sms$text)
#txt
#colnames(sms) <- c("category", "message")
#raw.data <- read.csv("E:/MaLearning/SPAM text message 20170820 - Data.csv", header=TRUE, sep=",", quote='\"\"', stringsAsFactors=FALSE)
smswd <- sms %>%
tibble()
smswd
smswd %>%
unnest_tokens(word,text) %>%
filter(!str_detect(word, "^[0-9]*$")) %>%
# remove stop words
anti_join(stop_words) %>%
mutate(word = SnowballC::wordStem(word))
smswd
View(sms)
smswd %>%
unnest_tokens(word,text)
unnest_tokens(word,sms$text)
cc <- unnest_tokens(word,sms$text)
sms$text
?unnest_tokens
d <- tibble(txt = prideprejudice)
d
d %>%
unnest_tokens(word, txt)
library(magrittr)
library(quanteda)
library(RColorBrewer)
library(tidytext)
library(dplyr)
library(readr)
sms <- read_csv("E:/MaLearning/SPAM text message 20170820 - Data.csv")
#sms <- tibble(sms)
colnames(sms)[1] <- 'category' #修改变量名
colnames(sms)[2] <- 'text' #修改变量名
sms$text <- as.character(sms$text)
sms %>% count(category)
#txt
#colnames(sms) <- c("category", "message")
#raw.data <- read.csv("E:/MaLearning/SPAM text message 20170820 - Data.csv", header=TRUE, sep=",", quote='\"\"', stringsAsFactors=FALSE)
smswd <- sms %>%
mutate(text = as.character(text)) %>%
tibble()
smswd
smswd %>%
unnest_tokens(word,text) %>%
filter(!str_detect(word, "^[0-9]*$")) %>%
# remove stop words
anti_join(stop_words) %>%
mutate(word = SnowballC::wordStem(word))
smswd
colnames(smswd)
smswd <- sms %>%
mutate(.,message = as.character(message)) %>%
tibble(.)
smswd <- sms %>%
rename(message = Massage)
smswd <- sms %>%
rename(message = Message,category=Category)
smswddm <- smswd %>%
count(ID,word) %>%rm = word, value = n))
library(e1071)
help(package= e1071)
Y
library(magrittr)
library(quanteda)
library(RColorBrewer)
library(tidytext)
library(dplyr)
library(readr)
sms <- read_csv("E:/MaLearning/SPAM text message 20170820 - Data.csv")
#sms <- tibble(sms)
sms %>% count(Category)
#sms <- sms %>%
# rename(message = `$Message`)
#sms
#colnames(sms)[1] <- 'category' #修改变量名
#colnames(sms)[2] <- 'message' #修改变量名
#sms$text <- as.character(sms$text)
#sms %>% count(category)
#txt
#colnames(sms) <- c("category", "message")
#raw.data <- read.csv("E:/MaLearning/SPAM text message 20170820 - Data.csv", header=TRUE, sep=",", quote='\"\"', stringsAsFactors=FALSE)
smswd <- sms %>%
rename(message = Message,tag=Category) %>%
mutate(ID = row_number())
smswd
Y <- as.factor(smswd$tag)
library(stringr)
smswd
smswd <- smswd %>%
filter(!str_detect(message, "^[0-9]*$"))
smswd
smswd <- smswd %>%
unnest_tokens(word,message) %>%
anti_join(stop_words) %>%
mutate(word = SnowballC::wordStem(word))
smswd
library(tm)
smswddm <- smswd %>%
count(ID,word) %>%
cast_dtm(document = ID, term = word, value = n)
smswddm
inspect(smswddm)
smswddm<- removeSparseTerms(smswddm, sparse=0.985)
inspect(smswddm)
smswddm
smswddm <- as.matrix(smswddm)
head(smswddm)
library(e1071)
model <- svm(smswddm, Y)
View(smswddm)
?as.matrix
?unnest_tokens
?cast_dtm
library(tm)
library(Matrix)
smswddm <- smswd %>%
count(ID,word) %>%
cast_sparse(ID,word)
View(smswd)
library(tm)
library(Matrix)
smswddm <- smswd %>%
count(ID,word) %>%
cast_sparse(ID,word,count)
library(tm)
library(Matrix)
smswddm <- smswd %>%
cast_sparse(ID,word,count)
library(tm)
smswddm <- smswd %>%
count(ID,word) %>%
cast_dtm(ID,word,n)
View(smswddm)
library(tm)
smswddm <- smswd %>%
count(ID,word) %>%
cast_sparse(ID,word,n)
View(smswddm)
library(tm)
smswddm <- smswd %>%
count(ID,word) %>%
cast_sparse(ID,word,n)
library(tm)
smswddm <- smswd %>%
count(ID,word) %>%
cast_sparse(ID,word,n)
View(smswddm)
library(tm)
smswddm <- smswd %>%
count(ID,word) %>%
cast_sparse_(ID,word,n)
smswd
library(tm)
smswddm <- smswd %>%
count(ID,word) %>%
cast_sparse(ID,word,n)
library(tm)
smswddm <- smswd %>%
count(ID,word) %>%
cast_sparse(ID,word,n)
library(magrittr)
library(quanteda)
library(RColorBrewer)
library(tidytext)
library(dplyr)
library(readr)
sms <- read_csv("E:/MaLearning/SPAM text message 20170820 - Data.csv")
#sms <- tibble(sms)
sms %>% count(Category)
#sms <- sms %>%
# rename(message = `$Message`)
#sms
#colnames(sms)[1] <- 'category' #修改变量名
#colnames(sms)[2] <- 'message' #修改变量名
#sms$text <- as.character(sms$text)
#sms %>% count(category)
#txt
#colnames(sms) <- c("category", "message")
#raw.data <- read.csv("E:/MaLearning/SPAM text message 20170820 - Data.csv", header=TRUE, sep=",", quote='\"\"', stringsAsFactors=FALSE)
smswd <- sms %>%
rename(message = Message,tag=Category) %>%
mutate(ID = row_number())
smswd
Y <- as.factor(smswd$tag)
library(stringr)
smswd
smswd <- smswd %>%
filter(!str_detect(message, "^[0-9]*$"))
smswd
smswd <- smswd %>%
unnest_tokens(word,message,drop=F) %>%
anti_join(stop_words) %>%
mutate(word = SnowballC::wordStem(word))
tail(smswd)
library(tm)
smswddm <- smswd %>%
count(ID,word) %>%
cast_dtm(ID,word,count)
library(tm)
smswddm <- smswd %>%
count(ID,word) %>%
cast_dtm(ID,word,n)
smswddm
inspect(smswddm)
smswddm<- removeSparseTerms(smswddm, sparse=0.985)
inspect(smswddm)
smswddm
smswddm <- as.matrix(smswddm)
head(smswddm)
library(e1071)
model <- svm(smswddm, Y)
library(tm)
smswddm <- smswd %>%
count(ID,word) %>%
cast_sparse(ID,word,n)
library(tm)
library(Matrix)
smswddm <- smswd %>%
count(ID,word) %>%
cast_sparse(ID,word,n)
library(magrittr)
library(quanteda)
library(RColorBrewer)
library(tidytext)
library(dplyr)
library(readr)
sms <- read_csv("E:/MaLearning/SPAM text message 20170820 - Data.csv")
#sms <- tibble(sms)
sms %>% count(Category)
#sms <- sms %>%
# rename(message = `$Message`)
#sms
#colnames(sms)[1] <- 'category' #修改变量名
#colnames(sms)[2] <- 'message' #修改变量名
#sms$text <- as.character(sms$text)
#sms %>% count(category)
#txt
#colnames(sms) <- c("category", "message")
#raw.data <- read.csv("E:/MaLearning/SPAM text message 20170820 - Data.csv", header=TRUE, sep=",", quote='\"\"', stringsAsFactors=FALSE)
smswd <- sms %>%
rename(message = Message,tag=Category) %>%
mutate(ID = row_number())
smswd
Y <- as.factor(smswd$tag)
library(stringr)
smswd
smswd <- smswd %>%
filter(!str_detect(message, "^[0-9]*$"))
smswd
smswd <- smswd %>%
unnest_tokens(word,message,drop=F) %>%
anti_join(stop_words) %>%
mutate(word = SnowballC::wordStem(word))
tail(smswd)
library(tm)
library(Matrix)
smswddm <- smswd %>%
count(ID,word) %>%
cast_sparse(ID,word,n)
library(magrittr)
library(quanteda)
library(RColorBrewer)
library(tidytext)
library(dplyr)
library(readr)
sms <- read_csv("E:/MaLearning/SPAM text message 20170820 - Data.csv")
#sms <- tibble(sms)
sms %>% count(Category)
#sms <- sms %>%
# rename(message = `$Message`)
#sms
#colnames(sms)[1] <- 'category' #修改变量名
#colnames(sms)[2] <- 'message' #修改变量名
#sms$text <- as.character(sms$text)
#sms %>% count(category)
#txt
#colnames(sms) <- c("category", "message")
#raw.data <- read.csv("E:/MaLearning/SPAM text message 20170820 - Data.csv", header=TRUE, sep=",", quote='\"\"', stringsAsFactors=FALSE)
smswd <- sms %>%
rename(message = Message,tag=Category) %>%
mutate(ID = row_number())
smswd
Y <- as.factor(smswd$tag)
library(stringr)
smswd
smswd <- smswd %>%
filter(!str_detect(message, "^[0-9]*$"))
smswd
smswd <- smswd %>%
unnest_tokens(word,message,drop=F) %>%
anti_join(stop_words) %>%
mutate(word = SnowballC::wordStem(word))
tail(smswd)
library(tm)
library(Matrix)
smswddm <- smswd %>%
count(ID,word) %>%
cast_sparse(ID,word,n)
View(smswddm)
smswddm <- as.matrix(smswddm)
head(smswddm)
smswd <- sms %>%
rename(message = Message,tag=Category) %>%
mutate(ID = row_number())
smswd
Y <- as.factor(smswd$tag)
ms_corpus <- VCorpus(VectorSource(smswd$message))
sms_dtm <- DocumentTermMatrix(sms_corpus, control =
list(tolower = T,
removeNumbers = T,
stopwords = T,
removePunctuation = T,
stemming = T))
smswd <- sms %>%
rename(message = Message,tag=Category) %>%
mutate(ID = row_number())
smswd
Y <- as.factor(smswd$tag)
ms_corpus <- VCorpus(VectorSource(smswd$message))
sms_dtm <- DocumentTermMatrix(ms_corpus, control =
list(tolower = T,
removeNumbers = T,
stopwords = T,
removePunctuation = T,
stemming = T))
dim(sms_dtm)
devtools::session_info()
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
blogdown:::stop_server()
?[]
library(data.table)
name2 <- c("Bob","Mary","Kim","Jane")
weight <- c(60,65,45,55)
height <- c(170,165,140,135)
birth <- c("1990-1","1980-2","1995-5","1996-4")
accept <- c("no","ok","ok","no")
library(data.table)
dft <- data.table(name1,weight,height,accept)
dft[,weight:accept]
1985/(1985+2840)
699/(48+699)
0.411399+0.935743
1.347142/2
library(ggplot2)
?geom_tile
?ordered
prop.table()
?prop.table
m <- matrix(1:4, 2)
m
prop.table(m, 1)
?`[]`
??v
??`[]`
?geom_text
?geom_label
?prop.table
?round
x2 <- pi * 100^(-1:3)
x2
round(x2, 3)
signif(x2, digits = 2)
floor(x2)
ceiling(x2)
round(3.20444,2)
?scale_fill_gradient
