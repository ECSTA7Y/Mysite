library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
View(bar)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value)) +
geom_bar() +
coord_flip()
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
library(ggplot2)
ggplot(bar,aes(reorder(tag,value),value)) +
geom_bar() +
coord_flip()
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
library(ggplot2)
ggplot(bar,aes(reorder(tag,value),value)) +
geom_bar(stat = 'identity',width = 0.1,position = 'dodge') +
coord_flip()
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
library(ggplot2)
ggplot(bar,aes(reorder(tag,value),value)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()
ggplot(bar,aes(reorder(tag,value),value)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
labs(x=" ",y=" ") +
theme_grey()
ggplot(bar,aes(reorder(tag,value),value)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
labs(x=" ",y=" ") +
theme_light()
ggplot(bar,aes(reorder(tag,value),value)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
labs(x=" ",y=" ") +
theme_void()
ggplot(bar,aes(reorder(tag,value),value)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
labs(x=" ",y=" ") +
theme_classic()
ggplot(bar,aes(reorder(tag,value),value)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic()
ggplot(bar,aes(reorder(tag,value),value)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
facet_wrap(~car, nrow = 1,color=car) +
labs(x=" ",y=" ") +
theme_classic()
library(ggplot2)
ggplot(bar,aes(reorder(tag,value),value,color=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic()
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic()
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme(legend.position="none") +
theme_classic()
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme(legend.position=" ") +
theme_classic()
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
guides(fill=FALSE) +
theme_classic()
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
?pdf.options
?grDevices
library(help = "grDevices")
?svg
install.packages('Cario')
library(stat_waterfall
)
library(ggplot2)
?stat_waterfall()
install.packages('library(ggTimeSeries)')
install.packages('ggTimeSeries')
?stat_waterfall()
library(ggTimeSeries)
?stat_waterfall()
{
library(ggplot2)
set.seed(1)
dfData = data.frame(x = 1:20, y = cumsum(rnorm(20)))
ggplot(dfData, aes(x =x, y = y) )+
stat_waterfall()}
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::stop_server()
library(caret)
library(e1071)
svmc <- svm(smsmat, Y)
knitr::opts_chunk$set(comment=NA,error=T,message = F,warning = F,fig.align='center',out.width ='90%')
library(magrittr)
library(quanteda)
library(RColorBrewer)
library(tidytext)
library(dplyr)
library(tm)
library(readr)
sms <- read_csv("E:/MaLearning/SPAM text message 20170820 - Data.csv")
#sms <- tibble(sms)
sms %>% count(Category)
#sms <- sms %>%
# rename(message = `$Message`)
#sms
#colnames(sms)[1] <- 'category' #修改变量名
#colnames(sms)[2] <- 'message' #修改变量名
#sms$text <- as.character(sms$text)
#sms %>% count(category)
#txt
#colnames(sms) <- c("category", "message")
#raw.data <- read.csv("E:/MaLearning/SPAM text message 20170820 - Data.csv", header=TRUE, sep=",", quote='\"\"', stringsAsFactors=FALSE)
smswd <- sms %>%
rename(message = Message,tag=Category) %>%
mutate(ID = row_number())
smswd
Y <- as.factor(smswd$tag)
dim(Y)
ms_corpus <- VCorpus(VectorSource(smswd$message))
sms_dtm <- DocumentTermMatrix(ms_corpus, control =
list(tolower = T,
removeNumbers = T,
stopwords = T,
removePunctuation = T,
stemming = T))
dim(sms_dtm) #5572
sms_dtm <- removeSparseTerms(sms_dtm, sparse = .98)
smsmat <- as.matrix(sms_dtm)
#head(as.matrix(sms_dtm))
library(caret)
library(e1071)
svmc <- svm(smsmat, Y)
print(svmc)
summary(svmc)
pred <- predict(svmc,smsmat)
conMatrix <- confusionMatrix(pred,Y)
conMatrix[["table"]]
nb <- naiveBayes(smsmat, Y)
#print(nb)
summary(nb)
pred1 <- predict(nb,smsmat)
conMatrix <- confusionMatrix(pred1,Y)
conMatrix[["table"]]
View(conMatrix)
conMatrix[["positive"]]
conMatrix
conMatrix[["overall"]]
conMatrix[["overall"]]
conMatrix[["overall"]]$Accuracy
conMatrix[["overall"]][["Accuracy"]]
1985+48+2840+699
1985+699
2684/5572
conMatrix[["overall"]]
conMatrix[["byClass"]]
conMatrix
conMatrix[["overall"]]
conMatrix[["positive"]]
conMatrix[["table"]]
conMatrix
conMatrix[["byClass"]]
conMatrix[["byClass"]][["Balanced Accuracy"]]
smswd <- sms %>%
rename(message = Message,tag=Category) %>%
mutate(ID = row_number())
head(smswd)
Y <- as.factor(smswd$tag)
ms_corpus <- VCorpus(VectorSource(smswd$message))
sms_dtm <- DocumentTermMatrix(ms_corpus, control =
list(tolower = T,
removeNumbers = T,
stopwords = T,
removePunctuation = T,
stemming = T))
dim(sms_dtm) #5572
sms_dtm <- removeSparseTerms(sms_dtm, sparse = .98)
smsmat <- as.matrix(sms_dtm)
head(smsmat)
dim(smsmat)
dim(smsmat)
dim(smsmat)[2]
?dfm_weight
