tibble(text = .) %>%
unnest_tokens(word,text) %>%
anti_join(stop_words) %>%
mutate(rapper=name[i]))
}
library(readr)
library(ggplot2)
library(dplyr)
library(purrr)
`%>%` <- magrittr::`%>%`
library(tidytext)
library(dplyr)
data(stop_words)
temp = list.files(path = 'D:/RapLyrics-Scraper-master/lyrics_US',
pattern='*.txt')
name = strsplit(temp,"_lyrics.txt") %>% as.character()
for (i in 1:length(temp)) {
assign(name[i],read_csv(temp[i],col_names = F) %>%
as.character() %>%
tibble(text = .) %>%
unnest_tokens(word,text) %>%
anti_join(stop_words) %>%
mutate(rapper=name[i]))
}
setwd('D:/RapLyrics-Scraper-master/lyrics_US')
library(tidytext)
library(dplyr)
data(stop_words)
temp = list.files(path = 'D:/RapLyrics-Scraper-master/lyrics_US',
pattern='*.txt')
name = strsplit(temp,"_lyrics.txt") %>% as.character()
for (i in 1:length(temp)) {
assign(name[i],read_csv(temp[i],col_names = F) %>%
as.character() %>%
tibble(text = .) %>%
unnest_tokens(word,text) %>%
anti_join(stop_words) %>%
mutate(rapper=name[i]))
}
rm('stop_words')
dfs = sapply(.GlobalEnv, is.data.frame)
rap <- do.call(rbind, mget(names(dfs)[dfs]))
library(dplyr)
data(stop_words)
temp = list.files(path = 'D:/RapLyrics-Scraper-master/lyrics_US',
pattern='*.txt')
name = strsplit(temp,"_lyrics.txt") %>% as.character()
for (i in 1:length(temp)) {
assign(name[i],read_csv(temp[i],col_names = F) %>%
as.character() %>%
tibble(text = .) %>%
unnest_tokens(word,text) %>%
anti_join(stop_words) %>%
mutate(rapper=name[i]))
}
setwd('D:/RapLyrics-Scraper-master/lyrics_US')
library(tidytext)
library(dplyr)
data(stop_words)
temp = list.files(path = 'D:/RapLyrics-Scraper-master/lyrics_US',
pattern='*.txt')
name = strsplit(temp,"_lyrics.txt") %>% as.character()
for (i in 1:length(temp)) {
assign(name[i],read_csv(temp[i],col_names = F) %>%
as.character() %>%
tibble(text = .) %>%
unnest_tokens(word,text) %>%
anti_join(stop_words) %>%
mutate(rapper=name[i]))
}
rm('stop_words')
dfs = sapply(.GlobalEnv, is.data.frame)
rap <- do.call(rbind, mget(names(dfs)[dfs]))
setwd('D:/RapLyrics-Scraper-master/lyrics_US')
library(tidytext)
library(dplyr)
data(stop_words)
temp = list.files(path = 'D:/RapLyrics-Scraper-master/lyrics_US',
pattern='*.txt')
name = strsplit(temp,"_lyrics.txt") %>% as.character()
for (i in 1:length(temp)) {
assign(name[i],read_csv(temp[i],col_names = F) %>%
as.character() %>%
tibble(text = .) %>%
unnest_tokens(word,text) %>%
anti_join(stop_words) %>%
mutate(rapper=name[i]))
}
rm('stop_words')
dfs = sapply(.GlobalEnv, is.data.frame)
rap <- do.call(rbind, mget(names(dfs)[dfs]))
kponlydt <- ls()[ls()!= 'rap']
rm(list = kponlydt)
#fusion <- read_csv("D:/RapLyrics-Scraper-master/lyrics_US/fusion/fusion.txt",col_names = F) %>%
# as.character() %>%
# tibble(text = .)
#fusion <- read_csv("D:/RapLyrics-Scraper-master/lyrics_US/fusion.txt",col_names = F)
#fusion <- as.character(fusion)
#colnames(fusion)[1] <- 'txt'
##fusion <- tibble(text = fusion)
#tidy_books %>%
#  count(word, sort = TRUE)
View(rap)
wdf <- rap %>%
count(word, sort = T)
wdf
wdf <- rap %>%
count(word, sort = T)
wdf
wdf %>%
filter(n > 800) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n)) +
geom_point(size=1.5, color='red')+
xlab(NULL) +
coord_flip()
View(rap)
wdf <- rap %>%
count(word, sort = T)
wdf
wdf %>%
filter(n > 800) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n)) +
geom_point(size=1.5, color='red')+
xlab(NULL) +
coord_flip()+
facet_wrap(~rapper)
View(wdf)
wdf <- rap %>%
group_by(rapper)+
count(word, sort = T)
wdf <- rap %>%
group_by(rapper) %>%
count(word, sort = T)
wdf
wdf %>%
filter(n > 800) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n)) +
geom_point(size=1.5, color='red')+
xlab(NULL) +
coord_flip()+
facet_wrap(~rapper)
wdf <- rap %>%
group_by(rapper) %>%
count(word, sort = T)
wdf
wdf %>%
filter(n > 200) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n)) +
geom_point(size=1.5, color='red')+
xlab(NULL) +
coord_flip()+
facet_wrap(~rapper)
wdf <- rap %>%
group_by(rapper) %>%
count(word, sort = T) %>%
mutate(word = reorder(word, n)) %>%
wdf
wdf <- rap %>%
group_by(rapper) %>%
count(word, sort = T) %>%
mutate(word = reorder(word, n))
wdf
wdf <- rap %>%
group_by(rapper) %>%
count(word, sort = T) %>%
mutate(word = reorder(word, n))
wdf
wdf %>%
filter(n > 200) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n)) +
geom_point(size=1.5, color='red')+
xlab(NULL) +
coord_flip()+
facet_wrap(~rapper)
wdf <- rap %>%
group_by(rapper) %>%
count(word, sort = T) %>%
mutate(word = reorder(word, n)) %>%
filter(word!='yeah',word!='uh',
word!='ha',word!='la',
,word!='na')
wdf <- rap %>%
group_by(rapper) %>%
count(word, sort = T) %>%
mutate(word = reorder(word, n))
wdf <- rap %>%
group_by(rapper) %>%
count(word, sort = T) %>%
mutate(word = reorder(word, n)) %>%
filter(word!='na')
wdf <- rap %>%
group_by(rapper) %>%
count(word, sort = T) %>%
mutate(word = reorder(word, n),
word=as.character(word)) %>%
filter(word!='na')
wdf
bing_word_counts <- wdf %>%
inner_join(get_sentiments("bing")) %>%
count(word, sentiment, sort = T) %>%
ungroup()
bing_word_counts
wdf %>%
filter(n > 200) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n)) +
geom_point(size=1.5, color='red')+
xlab(NULL) +
coord_flip()+
facet_wrap(~rapper)
wdf <- rap %>%
group_by(rapper) %>%
count(word, sort = T) %>%
mutate(word = reorder(word, n),
word=as.character(word)) %>%
filter(word!='na',word!='00a0')
wdf
wdf %>%
filter(n > 200) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n)) +
geom_point(size=1.5, color='red')+
xlab(NULL) +
coord_flip()+
facet_wrap(~rapper)
wdf <- rap %>%
group_by(rapper) %>%
count(word, sort = T) %>%
mutate(word = reorder(word, n),
word=as.character(word)) %>%
filter(word!='na',word!='00a0') %>%
ungroup()
wdf
wdf %>%
filter(n > 200) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n)) +
geom_point(size=1.5, color='red')+
xlab(NULL) +
coord_flip()+
facet_wrap(~rapper)
bing_word_counts %>%
group_by(sentiment) %>%
top_n(10) %>%
ungroup() %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = F) +
facet_wrap(~sentiment, scales = "free_y") +
labs(y = "Contribution to sentiment",
x = NULL) +
coord_flip()
bing_word_counts
wdf %>%
filter(n > 200) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n)) +
geom_point(size=1.5, color='red')+
xlab(NULL) +
coord_flip()+
facet_wrap(~rapper, scales = "free_y")
wdf %>%
filter(n > 100) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n)) +
geom_point(size=1.5, color='red')+
xlab(NULL) +
coord_flip()+
facet_wrap(~rapper, scales = "free_y")
wdf %>%
filter(n > 200) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n)) +
geom_point(size=1.5, color='red')+
xlab(NULL) +
coord_flip()+
facet_wrap(~rapper, scales = "free_y")
bing_word_counts %>%
group_by(sentiment) %>%
top_n(10)
bing_word_counts
bing_word_counts <- wdf %>%
inner_join(get_sentiments("bing")) %>%
count(word, sentiment, sort = T) %>%
ungroup()
bing_word_counts
bing_word_counts %>%
group_by(sentiment) %>%
top_n(10) %>%
ungroup() %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = F) +
facet_wrap(~sentiment, scales = "free_y") +
labs(y = "Contribution to sentiment",
x = NULL) +
coord_flip()
bing_word_counts %>%
group_by(sentiment) %>%
top_n(10) %>%
ungroup() %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = F) +
facet_wrap(~sentiment, scales = "free_y") +
coord_flip()
bing_word_counts
bing_word_counts %>%
group_by(sentiment) %>%
top_n(10) %>%
ungroup() %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = F) +
facet_grid(rapper~sentiment, scales = "free_y") +
coord_flip()
bing_word_counts
bing_word_counts <- wdf %>%
inner_join(get_sentiments("bing"))
bing_word_counts
bing_word_counts <- wdf %>%
inner_join(get_sentiments("bing")) %>%
count(word, sentiment, sort = T)
bing_word_counts
bing_word_counts <- wdf %>%
inner_join(get_sentiments("bing")) %>%
count(word,rapper,sentiment, sort = T) %>%
ungroup()
bing_word_counts
bing_word_counts %>%
group_by(sentiment) %>%
top_n(10) %>%
ungroup() %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = F) +
facet_grid(rapper~sentiment, scales = "free_y") +
coord_flip()
View(bing_word_counts)
bing_word_counts %>%
group_by(sentiment) %>%
top_n(10) %>%
ungroup() %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = F) +
facet_grid(rapper~sentiment, scales = "free_y") +
coord_flip()
bing_word_counts %>%
group_by(sentiment) %>%
top_n(3) %>%
ungroup() %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = F) +
facet_grid(rapper~sentiment, scales = "free_y") +
coord_flip()
bing_word_counts %>%
group_by(sentiment) %>%
top_n(10) %>%
ungroup() %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = F) +
facet_wrap(~sentiment, scales = "free_y") +
coord_flip()
wdf <- rap %>%
group_by(rapper) %>%
count(word, sort = T) %>%
mutate(word = reorder(word, n),
word=as.character(word)) %>%
filter(word!='na',word!='00a0')
wdf
bing_word_counts <- wdf %>%
inner_join(get_sentiments("bing")) %>%
count(word,rapper,sentiment, sort = T) %>%
ungroup()
bing_word_counts
wdf %>%
filter(n > 200) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n)) +
geom_point(size=1.5, color='red')+
xlab(NULL) +
coord_flip()+
facet_wrap(~rapper, scales = "free_y")
bing_word_counts %>%
group_by(sentiment) %>%
top_n(10) %>%
ungroup() %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = F) +
facet_wrap(~sentiment, scales = "free_y") +
coord_flip()
bing_word_counts <- wdf %>%
inner_join(get_sentiments("bing")) %>%
count(word,sentiment, sort = T)
wdf %>%
filter(n > 200) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n)) +
geom_point(size=1.5, color='red')+
xlab(NULL) +
coord_flip()+
facet_wrap(~rapper, scales = "free_y")
bing_word_counts %>%
group_by(sentiment) %>%
top_n(10) %>%
ungroup() %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = F) +
facet_wrap(~sentiment, scales = "free_y") +
coord_flip()
bing_word_counts %>%
group_by(sentiment) %>%
top_n(10) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(word, n, fill = sentiment)) +
geom_col(show.legend = F) +
facet_wrap(~sentiment, scales = "free_y") +
coord_flip()
bing_word_counts
bing_word_counts %>%
group_by(sentiment) %>%
top_n(10) %>%
ungroup()
wdf <- rap %>%
group_by(rapper) %>%
count(word, sort = T) %>%
mutate(word = reorder(word, n),
word=as.character(word)) %>%
filter(word!='na',word!='00a0')
wdf
bing_word_counts <- wdf %>%
inner_join(get_sentiments("bing")) %>%
count(word,sentiment, sort = T)
bing_word_counts <- wdf %>%
inner_join(get_sentiments("bing")) %>%
count(word,sentiment, sort = T)
bing_word_counts <- wdf %>%
inner_join(get_sentiments("bing")) %>%
count(word,sentiment, sort = T) %>%
ungroup()
bing_word_counts <- rap %>%
inner_join(get_sentiments("bing")) %>%
count(word,sentiment, sort = T) %>%
ungroup()
rap %>%
count(word) %>%
filter(word!='na',word!='00a0') %>%
with(wordcloud(word, n, max.words = 100))
library(readr)
library(ggplot2)
library(dplyr)
library(purrr)
`%>%` <- magrittr::`%>%`
setwd('D:/RapLyrics-Scraper-master/lyrics_US')
library(tidytext)
library(dplyr)
data(stop_words)
temp = list.files(path = 'D:/RapLyrics-Scraper-master/lyrics_US',
pattern='*.txt')
name = strsplit(temp,"_lyrics.txt") %>% as.character()
for (i in 1:length(temp)) {
assign(name[i],read_csv(temp[i],col_names = F) %>%
as.character() %>%
tibble(text = .) %>%
unnest_tokens(word,text) %>%
anti_join(stop_words) %>%
mutate(rapper=name[i]))
}
rm('stop_words')
dfs = sapply(.GlobalEnv, is.data.frame)
rap <- do.call(rbind, mget(names(dfs)[dfs]))
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
blogdown:::stop_server()
library(dplyr)
library(janeaustenr)
library(tidytext)
book_words <- austen_books() %>%
unnest_tokens(word, text) %>%
count(book, word, sort = TRUE)
total_words <- book_words %>%
group_by(book) %>%
summarize(total = sum(n))
book_words <- left_join(book_words, total_words)
book_words
library(ggraph)
?ggraph
?geom_edge_link
require(tidygraph)
gr <- create_notable('bull') %>%
mutate(class = sample(letters[1:3], n(), replace = TRUE)) %>%
activate(edges) %>%
mutate(class = sample(letters[1:3], n(), replace = TRUE))
ggraph(gr, 'stress') +
geom_edge_link0(aes(colour = class))
ggraph(gr, 'stress') +
geom_edge_link2(aes(colour = node.class))
119+186+132+80+142+187+180+197+180+132+179
798+797
1595+1714
3309+51
3466-3360
