geom_boxplot(size=0.1,outlier.fill='blue') +
xlab('学校代码') + ylab('数学原始成绩')
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
setwd("E:/edu/data2")
ceps <- read_dta("E:/edu/data2/ceps.dta")
#抽出30所学校，作成绩箱线图
ceps1 <- ceps %>%
group_by(schids) %>%
summarize(mathmean = mean(tr_mat, na.rm = T))
set.seed(2019)
sample <- sample(1:nrow(ceps1),30,replace = F)#随机抽取30个学校
ceps1 <- ceps1[sample,]
ceps1 <- ceps1$schids #提取抽中学校编号的向量
delte <- subset(ceps,schids == ceps1[1])
#遍历抽中的学校id，纵向合并数据框
for (i in ceps1) delte <- rbind(delte, subset(ceps,schids == i))
#箱线图
delte$schids <- as.factor(delte$schids)
ggplot(delte, aes(schids,tr_mat)) +
geom_boxplot(size=0.1,outlier.colour = ='blue') +
setwd("E:/edu/data2")
ceps <- read_dta("E:/edu/data2/ceps.dta")
#抽出30所学校，作成绩箱线图
ceps1 <- ceps %>%
group_by(schids) %>%
summarize(mathmean = mean(tr_mat, na.rm = T))
set.seed(2019)
sample <- sample(1:nrow(ceps1),30,replace = F)#随机抽取30个学校
ceps1 <- ceps1[sample,]
ceps1 <- ceps1$schids #提取抽中学校编号的向量
delte <- subset(ceps,schids == ceps1[1])
#遍历抽中的学校id，纵向合并数据框
for (i in ceps1) delte <- rbind(delte, subset(ceps,schids == i))
#箱线图
delte$schids <- as.factor(delte$schids)
ggplot(delte, aes(schids,tr_mat)) +
geom_boxplot(size=0.1,outlier.colour = 'blue') +
xlab('学校代码') + ylab('数学原始成绩')
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
setwd("E:/edu/data2")
ceps <- read_dta("E:/edu/data2/ceps.dta")
#抽出30所学校，作成绩箱线图
ceps1 <- ceps %>%
group_by(schids) %>%
summarize(mathmean = mean(tr_mat, na.rm = T))
set.seed(2019)
sample <- sample(1:nrow(ceps1),30,replace = F)#随机抽取30个学校
ceps1 <- ceps1[sample,]
ceps1 <- ceps1$schids #提取抽中学校编号的向量
delte <- subset(ceps,schids == ceps1[1])
#遍历抽中的学校id，纵向合并数据框
for (i in ceps1) delte <- rbind(delte, subset(ceps,schids == i))
#箱线图
delte$schids <- as.factor(delte$schids)
ggplot(delte, aes(schids,tr_mat)) +
geom_boxplot(size=0.1,outlier.colour =  "#56B4E9") +
xlab('学校代码') + ylab('数学原始成绩')
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
setwd("E:/edu/data2")
ceps <- read_dta("E:/edu/data2/ceps.dta")
#抽出30所学校，作成绩箱线图
ceps1 <- ceps %>%
group_by(schids) %>%
summarize(mathmean = mean(tr_mat, na.rm = T))
set.seed(2018)
sample <- sample(1:nrow(ceps1),30,replace = F)#随机抽取30个学校
ceps1 <- ceps1[sample,]
ceps1 <- ceps1$schids #提取抽中学校编号的向量
delte <- subset(ceps,schids == ceps1[1])
#遍历抽中的学校id，纵向合并数据框
for (i in ceps1) delte <- rbind(delte, subset(ceps,schids == i))
#箱线图
delte$schids <- as.factor(delte$schids)
ggplot(delte, aes(schids,tr_mat)) +
geom_boxplot(size=0.1,outlier.colour =  "#56B4E9") +
xlab('学校代码') + ylab('数学原始成绩')
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(bins = 70)
#七年级和九年级的比较
ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_density()
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(bins = 70)
#七年级和九年级的比较
ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_density()
setwd("E:/edu/data2")
ceps <- read_dta("E:/edu/data2/ceps.dta")
#抽出30所学校，作成绩箱线图
ceps1 <- ceps %>%
group_by(schids) %>%
summarize(mathmean = mean(tr_mat, na.rm = T))
set.seed(2018)
sample <- sample(1:nrow(ceps1),30,replace = F)#随机抽取30个学校
ceps1 <- ceps1[sample,]
ceps1 <- ceps1$schids #提取抽中学校编号的向量
delte <- subset(ceps,schids == ceps1[1])
#遍历抽中的学校id，纵向合并数据框
for (i in ceps1) delte <- rbind(delte, subset(ceps,schids == i))
#箱线图
delte$schids <- as.factor(delte$schids)
ggplot(delte, aes(schids,tr_mat)) +
geom_boxplot(size=0.1,outlier.colour ="#56B4E9",fill='sky blue') +
xlab('学校代码') + ylab('数学原始成绩')
#独生子女
dus <- ggplot(ceps, aes(onechi,tr_mat,na.rm=T)) +
geom_boxplot(size=0.1,outlier.colour ="#56B4E9",position=position_dodge(1),fill='sky blue') +
xlab('独生子女') + ylab('数学原始成绩')
#ceps$maedu10 <- ifelse(ceps$maedu>16,TRUE,FALSE)
shux <- ceps$grade9 <- as.factor(ceps$grade9)
ggplot(ceps, aes(sex,tr_mat)) +
facet_wrap(~grade9, nrow = 1) +
geom_boxplot(size=0.1,outlier.colour ="#56B4E9",fill='sky blue') +
xlab('性别') + ylab('数学原始成绩')
#dus shux tushu
tushu <- ggplot(ceps, aes(bknum, tr_mat)) +
geom_point(size=2,na.rm=T) +
geom_jitter(height = 2, width = 9,na.rm=T) +
geom_smooth(method='loess') +
xlab('学校图书数量') + ylab('数学原始成绩')
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus shux tushu, cols=2)
multiplot <- ggplot2.multiplot(dus,shux,tushu, cols=2)
multiplot
multiplot <- ggplot2.multiplot(dus,shux,tushu, cols=1)
multiplot
multiplot <- ggplot2.multiplot(dus,shux,tushu, rows=1)
multiplot
multiplot <- ggplot2.multiplot(dus,shux,tushu)
multiplot
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
dus <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(bins = 70)
#七年级和九年级的比较
shux <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_density()
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
dus <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(bins = 70)
#七年级和九年级的比较
shux <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9,color=grade9)) + geom_density()
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
dus <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(bins = 70)
#七年级和九年级的比较
shux <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9,color=grade9)) + geom_density(alpha=1/5)
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
dus <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(bins = 70)
#七年级和九年级的比较
shux <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9,color=grade9)) + geom_density(alpha=1/3)
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
dus <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(bins = 70)
#七年级和九年级的比较
shux <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9,color=grade9)) + geom_density(alpha=1/2)
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
?geom_histogram
ceps$grade9 <- as.factor(ceps$grade9)
dus <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(density = 70)+
xlab('学校代码') + ylab('数学原始成绩')
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
dus <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(density = 70)+
xlab('学校代码') + ylab('数学原始成绩')
#七年级和九年级的比较
shux <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9,color=grade9)) + geom_density(alpha=1/2) +
xlab('学校代码') + ylab('数学原始成绩')
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
dus <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(density = 70)#+
#xlab('学校代码') + ylab('数学原始成绩')
#七年级和九年级的比较
shux <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9,color=grade9)) + geom_density(alpha=1/2) +
xlab('学校代码') + ylab('数学原始成绩')
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
dus <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(density = 70,stat = "density")#+
#xlab('学校代码') + ylab('数学原始成绩')
#七年级和九年级的比较
shux <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9,color=grade9)) + geom_density(alpha=1/2) +
xlab('总成绩') + ylab('密度')
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
dus <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(stat = "density")#+
#xlab('学校代码') + ylab('数学原始成绩')
#七年级和九年级的比较
shux <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9,color=grade9)) + geom_density(alpha=1/2) +
xlab('总成绩') + ylab('密度')
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
ceps$sex <- as.factor(ceps$sex)
dus <- ggplot(ceps, aes(x = sdtotal,group=sex,fill=sex)) + geom_histogram(stat = "density")#+
#xlab('学校代码') + ylab('数学原始成绩')
#七年级和九年级的比较
shux <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9,color=grade9)) + geom_density(alpha=1/2) +
xlab('总成绩') + ylab('密度')
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
dus <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(density = 70)#+
#xlab('学校代码') + ylab('数学原始成绩')
#七年级和九年级的比较
shux <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9,color=grade9)) + geom_density(alpha=1/2) +
xlab('总成绩') + ylab('密度')
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
dus <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(density = 70)+
xlab('总成绩') + ylab('频数')
#七年级和九年级的比较
shux <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9,color=grade9)) + geom_density(alpha=1/2) +
xlab('总成绩') + ylab('密度')
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
setwd("E:/edu/data2")
library(haven)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(lattice)
require(stats)
library(ggplot2)
library(pROC)
library(randomForest)
ceps <- read_dta("E:/edu/data2/ceps.dta")
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
ceps$schids <- as.factor(ceps$schids)
#attach(ceps)
#histogram(sdtotal,equal.widths = TRUE, nint = 70, xlab = "标准化总成绩",type = "density",ylab = '密度')
ceps$grade9 <- as.factor(ceps$grade9)
dus <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9)) + geom_histogram(density = 70)+
xlab('总成绩') + ylab('频数')
#七年级和九年级的比较
shux <- ggplot(ceps, aes(x = sdtotal,group=grade9,fill=grade9,color=grade9)) + geom_density(alpha=1/2) +
xlab('总成绩') + ylab('密度')
library(easyGgplot2)
multiplot <- ggplot2.multiplot(dus,shux)
multiplot
setwd("E:/edu/data2")
ceps <- read_dta("E:/edu/data2/ceps.dta")
#抽出30所学校，作成绩箱线图
ceps1 <- ceps %>%
group_by(schids) %>%
summarize(mathmean = mean(tr_mat, na.rm = T))
set.seed(2018)
sample <- sample(1:nrow(ceps1),30,replace = F)#随机抽取30个学校
ceps1 <- ceps1[sample,]
ceps1 <- ceps1$schids #提取抽中学校编号的向量
delte <- subset(ceps,schids == ceps1[1])
#遍历抽中的学校id，纵向合并数据框
for (i in ceps1) delte <- rbind(delte, subset(ceps,schids == i))
#箱线图
delte$schids <- as.factor(delte$schids)
ggplot(delte, aes(schids,tr_mat)) +
geom_boxplot(size=0.1,outlier.colour ="#56B4E9",fill='sky blue') +
xlab('学校代码') + ylab('数学原始成绩')
ceps <- lapply(ceps, unclass)
ceps <- data.frame(ceps)
class(dabox)
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
