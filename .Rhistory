?npk
options(contrasts = c("contr.sum", "contr.poly"))
npk.aov <- aov(yield ~ block + N*P*K, npk)
npk.aov
summary(npk.aov)
coef(npk.aov)
options(contrasts = c("contr.treatment", "contr.poly"))
npk.aov1 <- aov(yield ~ block + N + K, data = npk)
summary.lm(npk.aov1)
se.contrast(npk.aov1, list(N=="0", N=="1"), data = npk)
model.tables(npk.aov1, type = "means", se = TRUE)
library(agricolae)
data(oats)
npk
library(readr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
View(raptors_players)
library(readr)
library(dplyr)
library(tidyr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
na_if('-')
library(readr)
library(dplyr)
library(tidyr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
na_if('-') %>%
arrange(date)
library(readr)
library(dplyr)
library(tidyr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(date) %>%
na_if('-')
library(readr)
library(dplyr)
library(tidyr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(DATE) %>%
na_if('-')
library(reshape2)
?dcast
col(raptors_players)
colnames(raptors_players)
players <- raptors_players %>%
dcast(DATE~PLAYER+MIN+PTS+FGM+FGA+FG%+3PM+3PA+3P%+FTM+FTA+FT%+OREB+DREB+REB+AST+STL+BLK+TOV+PF)
library(readr)
library(dplyr)
library(tidyr)
library(reshape2)
library(magrittr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(DATE) %>%
na_if('-')
players <- raptors_players %>%
dcast(DATE~PLAYER+MIN+PTS+FGM+FGA+FG%+3PM+3PA+3P%+FTM+FTA+FT%+OREB+DREB+REB+AST+STL+BLK+TOV+PF)
players <- raptors_players %>%
dcast(DATE~PLAYER+MIN+PTS+FGM+FGA+'FG%'+3PM+3PA+'3P%'+FTM+FTA+FT%+OREB+DREB+REB+AST+STL+BLK+TOV+PF)
players <- raptors_players %>%
dcast(DATE~PLAYER+MIN+PTS+FGM+FGA++3PM+3PA+FTM+FTA+FT%+OREB+DREB+REB+AST+STL+BLK+TOV+PF)
players <- raptors_players %>%
dcast(DATE~PLAYER+MIN+PTS+FGM+FGA+3PM+3PA+FTM+FTA+FT%+OREB+DREB+REB+AST+STL+BLK+TOV+PF)
players <- raptors_players %>%
dcast(DATE~PLAYER+MIN+PTS+FGM+FGA+FTM+FTA+FT%+OREB+DREB+REB+AST+STL+BLK+TOV+PF)
players <- raptors_players %>%
dcast(DATE~PLAYER)
View(players)
players <- raptors_players %>%
dcast(DATE~PLAYER+MIN)
players <- raptors_players %>%
dcast(DATE~PLAYER)
players <- raptors_players %>%
dcast(MIN+DATE~PLAYER)
players <- raptors_players %>%
dcast(DATE~PLAYER)
players <- raptors_players %>%
dcast(DATE~PLAYER+AST)
library(readr)
raptorsplayoffs <- read_csv("E:/MaLearning/nba/raptorsplayoffs.csv")
View(raptorsplayoffs)
playoffs <- raptorsplayoffs %>%
arrange(DATE) %>%
na_if('-')
View(playoffs)
colnames(playoffs)
library(party)
?ctree
ctree(W/L~MIN+PTS+FGM+FGA+FG%+3PM+3PA+3P%+FTM+FTA+FT%+OREB+DREB+REB+AST+STL+BLK+TOV+PF,playoffs)
ctree(W/L~MIN+PTS+FGM+FGA+FG%+3PM+3PA+3P%+FTM+FTA+FT%+OREB+DREB+REB+AST+STL+BLK+TOV+PF,playoffs)
ctree(W/L~MIN+PTS+FGM+FGA+3PM+3PA+FTM+FTA+FT%+OREB+DREB+REB+AST+STL+BLK+TOV+PF,playoffs)
ctree(W/L~MIN+PTS+FGM+FGA+FTM+FTA+FT%+OREB+DREB+REB+AST+STL+BLK+TOV+PF,playoffs)
ctree(W/L~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF,playoffs)
ctree('W/L'~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF,playoffs)
ctree('W/L'~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF,data=playoffs)
ctree(W/L~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF,data=playoffs)
playoffs <- raptorsplayoffs %>%
arrange(DATE) %>%
na_if('-') %>%
rename('FGP'='FG%','win'='W/L')
ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF,data=playoffs)
rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF,data=playoffs)
library(rpart)
rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF,data=playoffs)
library(readr)
library(party)
raptorsplayoffs <- read_csv("E:/MaLearning/nba/raptorsplayoffs.csv")
playoffs <- raptorsplayoffs %>%
arrange(DATE) %>%
na_if('-') %>%
rename('FGP'='FG%','win'='W/L') %>%
mutate_if(sapply(.,is.character),as.factor)
ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF,data=playoffs)
ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FT%,data=playoffs)
ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+3PP+FGP,data=playoffs)
playoffs <- raptorsplayoffs %>%
arrange(DATE) %>%
na_if('-') %>%
rename('3PP'='3P%','FTP'='FT%','FGP'='FG%','win'='W/L') %>%
mutate_if(sapply(.,is.character),as.factor)
ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+3PP+FGP,data=playoffs)
library(readr)
library(party)
raptorsplayoffs <- read_csv("E:/MaLearning/nba/raptorsplayoffs.csv")
playoffs <- raptorsplayoffs %>%
arrange(DATE) %>%
na_if('-') %>%
rename('3PP'='3P%','FTP'='FT%','FGP'='FG%','win'='W/L') %>%
mutate_if(sapply(.,is.character),as.factor)
ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+3PP+FGP,data=playoffs)
library(readr)
library(party)
raptorsplayoffs <- read_csv("E:/MaLearning/nba/raptorsplayoffs.csv")
playoffs <- raptorsplayoffs %>%
arrange(DATE) %>%
na_if('-') %>%
rename('TPP'='3P%','FTP'='FT%','FGP'='FG%','win'='W/L') %>%
mutate_if(sapply(.,is.character),as.factor)
ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,data=playoffs)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,data=playoffs)
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs)
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(maxsurrogate = 3))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(maxsurrogate = 9))
plot(tree)
?ctree_control
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(minsplit = 9))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(minsplit = 1))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(minsplit = 111))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(maxdepth = 10))
plot(tree)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,playoffs)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,data=playoffs)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs)
rpart.plot(treept)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(maxdepth = 10))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(maxdepth = 10,remove_weights=F))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(maxdepth = 10,remove_weights=F,mincriterion = 0.95))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(maxdepth = 10,remove_weights=F,mincriterion = 0.01))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(maxdepth = 10,remove_weights=F,mincriterion = 0.001))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(mincriterion = 0.001, minsplit = 100, minbucket = 99, nresample = 9999, maxsurrogate = 0,mtry = 11, savesplitstats = T, maxdepth = 15, remove_weights = F))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(mincriterion = 0.0001, minsplit = 100, minbucket = 99, nresample = 9999, maxsurrogate = 0,mtry = 11, savesplitstats = T, maxdepth = 15, remove_weights = F))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(mincriterion = 0.0001))
plot(tree)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs)
rpart.plot(treept)
?rpart
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,control = rpart.control(cp = 0.05))
rpart.plot(treept)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,control = rpart.control(cp = 0.01))
rpart.plot(treept)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,control = rpart.control(cp = 0.001))
rpart.plot(treept)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,control = rpart.control(cp = 0.1))
rpart.plot(treept)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,control = rpart.control(cp = 0.001,minsplit=100, minbucket = round(minsplit/3),maxcompete = 6, maxsurrogate = 5, usesurrogate = 2, xval = 10,surrogatestyle = 0, maxdepth = 30))
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,control = rpart.control(cp = 0.001,minsplit=100,maxcompete = 6, maxsurrogate = 5, usesurrogate = 2, xval = 10,surrogatestyle = 0, maxdepth = 30))
rpart.plot(treept)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,control = rpart.control(cp = 0.001,minsplit=100,maxcompete = 9, maxsurrogate = 50, usesurrogate = 2, xval = 10,surrogatestyle = 0, maxdepth = 30))
rpart.plot(treept)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,control = rpart.control(cp=0.001,minsplit=100,maxcompete = 9, maxsurrogate = 50, usesurrogate = 20,surrogatestyle = 0, maxdepth = 30))
rpart.plot(treept)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,control = rpart.control(cp=0.001,minsplit=5,maxcompete = 9, maxsurrogate = 50, usesurrogate = 20,surrogatestyle = 0, maxdepth = 30))
rpart.plot(treept)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(mincriterion = 0.0001,minsplit=5))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(mincriterion = 0.0001,minsplit=3))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(mincriterion = 0.0001,minsplit=1))
plot(tree)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(mincriterion = 0.01,minsplit=3))
plot(tree)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,control = rpart.control(cp=0.001,minsplit=5maxdepth = 4))
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,control = rpart.control(cp=0.001,minsplit=5,maxcompete = 9, maxsurrogate = 50, usesurrogate = 20,surrogatestyle = 0, maxdepth = 30))
rpart.plot(treept)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,control = rpart.control(cp=0.001,minsplit=5, maxdepth = 30))
rpart.plot(treept)
View(players)
View(playoffs)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(minsplit=3))
plot(tree)
View(raptors_players)
?spread
players <- raptors_players %>%
spread(key=DATE,value=PTS)
View(players)
players <- raptors_players %>%
spread(key=PLAYER,value=PTS)
players <- raptors_players %>%
spread(key=PLAYER,value=c('PTS','FGM'))
players <- raptors_players %>%
spread(key=PLAYER,value=PTS,FGM)
players <- raptors_players %>%
spread(key=PLAYER,value=FGM)
players <- raptors_players %>%
spread(key=FGM,value=PLAYER)
?acast
acast(aqm, day ~ month ~ variable
)
aqm <- melt(airquality, id=c("month", "day"), na.rm=TRUE)
acast(aqm, day ~ month ~ variable)
names(airquality) <- tolower(names(airquality))
aqm <- melt(airquality, id=c("month", "day"), na.rm=TRUE)
aqm
acast(aqm, day ~ month ~ variable)
dcast
?dcast
library(readr)
library(dplyr)
library(tidyr)
library(reshape2)
library(magrittr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(DATE) %>%
na_if('-')
#长数据转宽数据
players <- raptors_players %>%
dcast(DATE~PLAYER)
library(readr)
library(dplyr)
library(tidyr)
library(reshape2)
library(magrittr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(DATE) %>%
na_if('-')
#长数据转宽数据
players <- raptors_players %>%
dcast(DATE~PLAYER,fill=FGA)
library(readr)
library(dplyr)
library(tidyr)
library(reshape2)
library(magrittr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(DATE) %>%
na_if('-')
#长数据转宽数据
players <- raptors_players %>%
dcast(DATE~PLAYER,value.var=FGA)
library(readr)
library(dplyr)
library(tidyr)
library(reshape2)
library(magrittr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(DATE) %>%
na_if('-')
#长数据转宽数据
players <- raptors_players %>%
dcast(DATE~PLAYER,value.var=PTS)
library(readr)
library(dplyr)
library(tidyr)
library(reshape2)
library(magrittr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(DATE) %>%
na_if('-')
#长数据转宽数据
players <- raptors_players %>%
dcast(DATE~PLAYER,margins	=PTS)
library(readr)
library(dplyr)
library(tidyr)
library(reshape2)
library(magrittr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(DATE) %>%
na_if('-')
#长数据转宽数据
players <- raptors_players %>%
dcast(DATE~PLAYER,margins	=T)
library(readr)
library(dplyr)
library(tidyr)
library(reshape2)
library(magrittr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(DATE) %>%
na_if('-')
#长数据转宽数据
players <- raptors_players %>%
dcast(DATE~PLAYER,value.var=guess_value(raptors_players))
library(readr)
library(dplyr)
library(tidyr)
library(reshape2)
library(magrittr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(DATE) %>%
na_if('-')
#长数据转宽数据
players <- raptors_players %>%
dcast(DATE~PLAYER,value.var=guess_value(raptors_players)
library(readr)
library(dplyr)
library(tidyr)
library(reshape2)
library(magrittr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(DATE) %>%
na_if('-')
#长数据转宽数据
players <- raptors_players %>%
dcast(DATE~PLAYER,value.var=guess_value(raptors_players))
library(readr)
library(dplyr)
library(tidyr)
library(reshape2)
library(magrittr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(DATE) %>%
na_if('-')
#长数据转宽数据
players <- raptors_players %>%
dcast(DATE~PLAYER,value.var=MIN)
raptorsreg <- read_csv("E:/MaLearning/nba/raptors_regulars.csv")
library(readr)
library(dplyr)
library(tidyr)
library(reshape2)
library(magrittr)
raptors_players <- read_csv("E:/MaLearning/nba/raptors_players.csv")
raptors_players <- raptors_players %>%
arrange(DATE) %>%
na_if('-')
#long to wide
players <- raptors_players %>%
dcast(DATE~PLAYER)
library(readr)
library(party)
raptorsplayoffs <- read_csv("E:/MaLearning/nba/raptorsplayoffs.csv")
playoffs <- raptorsplayoffs %>%
arrange(DATE) %>%
na_if('-') %>%
rename('TPP'='3P%','FTP'='FT%','FGP'='FG%','win'='W/L') %>%
mutate_if(sapply(.,is.character),as.factor)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,controls = ctree_control(mincriterion = 0.01,minsplit=3))
plot(tree)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,playoffs,control = rpart.control(cp=0.001,minsplit=3))
rpart.plot(treept)
View(playoffs)
raptorsreg <- read_csv("E:/MaLearning/nba/raptors_regulars.csv")
regular<- raptorsreg %>%
arrange(DATE) %>%
na_if('-') %>%
rename('TPP'='3P%','FTP'='FT%','FGP'='FG%','win'='W/L') %>%
mutate_if(sapply(.,is.character),as.factor)
tree <- ctree(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,regular,controls = ctree_control(mincriterion = 0.01,minsplit=3))
plot(tree)
library(rpart)
library(rpart.plot)
treept <- rpart(win~MIN+PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,regular,control = rpart.control(cp=0.001,minsplit=3))
rpart.plot(treept)
View(regular)
?party
library(party)
?party
?ctree
?rpart
library(rpart)
?rpart
stagec
library(survival)
library(haven)
library(ggplot2)
library(dplyr)
library(ggfortify)
library(stargazer)
library(rpart)
library(rpart.plot)
fit < - rpart(Surv(pgtime , pgstat)~age +
eet + g2 + grade + gleason + ploidy ,data =
stagec, method ='exp')
fit <- rpart(Surv(pgtime , pgstat)~age +
eet + g2 + grade + gleason + ploidy ,data =
stagec, method ='exp')
fit <- rpart(Surv(pgtime , pgstat)~age +
eet + g2 + grade + gleason + ploidy ,stagec, method ='exp')
fit <- rpart(Surv(pgtime , pgstat)~age +
eet + g2 + grade + gleason + ploidy,stagec,method='exp')
rpart.plot(fit)
fit <- rpart(Surv(pgtime , pgstat)~age +
eet + g2 + grade + gleason + ploidy,stagec,method='exp')
rpart.plot(fit)
print(pfit)
fit <- rpart(Surv(pgtime , pgstat)~age +
eet + g2 + grade + gleason + ploidy,stagec,method='exp')
rpart.plot(fit)
print(fit)
print(fit)
fit2 <- prune(fit, cp = 0.016)
rpart.plot(fit2)
temp <- snip.rpart(pfit2, 6)
temp <- snip.rpart(fit2, 6)
km <- survfit(Surv(pgtime, pgstat) ~ temp$where, stagec)
autoplot(km)
?autoplot()
library(rpart)
library(rpart.plot)
treept <- rpart(win~PTS+FGM+FGA+FTM+FTA+OREB+DREB+REB+AST+STL+BLK+TOV+PF+FTP+TPP+FGP,regular,control = rpart.control(cp=0.004,minsplit=3))
?rpart.plot
old.par <- par(mfrow=c(2,2))            # put 4 figures on one page
data(ptitanic)
#---------------------------------------------------------------------------
binary.model <- rpart(survived ~ ., data = ptitanic, cp = .02)
# cp = .02 for small demo tree
rpart.plot(binary.model,
main = "titanic survived\n(binary response)")
rpart.plot(binary.model, type = 3, clip.right.labs = FALSE,
branch = .4,
box.palette = "Grays",       # override default GnBu palette
main = "type = 3, clip.right.labs = FALSE, ...\n")
anova.model <- rpart(Mileage ~ ., data = cu.summary)
rpart.plot(anova.model,
shadow.col = "gray",         # add shadows just for kicks
main = "miles per gallon\n(continuous response)\n")
multi.class.model <- rpart(Reliability ~ ., data = cu.summary)
rpart.plot(multi.class.model,
main = "vehicle reliability\n(multi class response)")
par(old.par)
print(fit)
fit2 <- prune(fit, cp = 0.016)
rpart.plot(fit2,shadow.col = 'gray')
print(fit)
fit2 <- prune(fit, cp = 0.016)
rpart.plot(fit2,shadow.col = 'gray')
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
blogdown:::stop_server()
blogdown:::stop_server()
