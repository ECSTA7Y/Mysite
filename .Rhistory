lasso_mod <- glmnet(cepsmat,
na.omit(ceps$sdtotal),
alpha = 1)
library(readr)
ceps <- read_csv("C:/Users/xsong/Desktop/table/ceps.imputed.csv")
ceps <- ceps %>%
select(sdtotal,everything()) %>%
na.omit()
#options(na.action="na.fail")
library(glmnet)
x_train <- model.matrix(sdtotal ~ schids + sex + onechi +  maedu +  faedu + drunk + qurel + relation +  desk + net + dialect + chkhmwk + chkcouse + classtm + clpre + revitm + subject + know + drsmok + commhr + schtype + schcsrm +  comno +  bknum + buget + eduqua + fight + brkpb + smok +  drink +  teainc + money + clfee + qianzi + lifetm +  dial +  chidia +  futcfd +  huko + eduy +  dangy + houspro,ceps)
y_train <- x_train[,1]
x_train <- x_train[,-1]
lasso_mod <- glmnet(x_train,
y_train,
alpha = 1)
library(plotmo) # for plot_glmnet
plot_glmnet(lasso_mod,xvar='lambda',label=T)
library(readr)
ceps <- read_csv("C:/Users/xsong/Desktop/table/ceps.imputed.csv")
ceps <- ceps %>%
select(sdtotal,everything()) %>%
na.omit()
#options(na.action="na.fail")
library(glmnet)
x_train <- model.matrix(sdtotal ~ schids + sex + onechi +  maedu +  faedu + drunk + qurel + relation +  desk + net + dialect + chkhmwk + chkcouse + classtm + clpre + revitm + subject + know + drsmok + commhr + schtype + schcsrm +  comno +  bknum + buget + eduqua + fight + brkpb + smok +  drink +  teainc + money + clfee + qianzi + lifetm +  dial +  chidia +  futcfd +  huko + eduy +  dangy + houspro,ceps)[,-1]
y_train <- ceps %>%
select(sdtotal) %>%
unlist() %>%
as.numeric()
#cepsmat <- ceps %>%
# select(sex,onechi,maedu,faedu, drunk,qurel,relation,desk,net,dialect,chkhmwk, chkcouse , classtm,clpre,revitm,subject,know, drsmok,commhr,schtype,schcsrm,comno,bknum, buget,eduqua,fight,brkpb,smok,drink, teainc,money,clfee,qianzi,lifetm,dial,chidia,futcfd,huko,eduy,dangy,houspro) %>%
#  as.matrix() %>%
#  na.omit()
#sdtotal <- as.matrix(ceps$sdtotal)
lasso_mod <- glmnet(x_train,
y_train,
alpha = 1)
library(plotmo) # for plot_glmnet
plot_glmnet(lasso_mod,xvar='lambda',label=T)
install.packages('svglite')
Sys.setlocale(, "Chinese")
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
blogdown:::stop_server()
blogdown:::stop_server()
blogdown:::stop_server()
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
blogdown:::stop_server()
blogdown:::stop_server()
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
blogdown:::stop_server()
blogdown:::stop_server()
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,family = value)) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value)) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
?geom_text
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right')) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right')) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,hjust='right')) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right')) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust='right')) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',vjust='right')) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=0.6)) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=2)) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-2)) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1)) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1,label.size
=2)) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1,label.size
=1)) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1,label.size
=0.5)) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1,size
=0.5)) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1,size
=1)) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1,size
=0.2)) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1,size=0.2)) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=0.2) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=1) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=2) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=3) +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=3,color='black') +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=2.7,color='black') +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
?geom_bar
installed.packages('Cairo')
install.packages('Cairo')
library(ggplot2)
library(Cairo)
library(readr)
CairoSVG("temp.svg")
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=2.7,color='black') +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
dev.off()
library(ggplot2)
library(Cairo)
library(readr)
CairoSVG("temp.svg")
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=2.7,color='black') +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
dev.off()
library(ggplot2)
library(Cairo)
library(readr)
CairoSVG("temp.svg")
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=2.7,color='black') +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(readr)
CairoSVG("temp.svg")
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=2.7,color='black') +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
library(ggplot2)
library(Cairo)
library(readr)
CairoSVG("temp.svg")
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=2.7,color='black') +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
dev.off()
setwd("C:/Users/xsong/Desktop")
library(ggplot2)
library(Cairo)
library(readr)
CairoSVG("temp.svg")
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=2.7,color='black') +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
dev.off()
setwd("C:/Users/xsong/Desktop")
library(ggplot2)
library(Cairo)
library(readr)
CairoSVG("temp.svg",family="GB1")
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=2.7,color='black') +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
dev.off()
setwd("C:/Users/xsong/Desktop")
library(ggplot2)
library(Cairo)
library(readr)
CairoSVG("temp.svg",family="GB1")
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=2.7,color='black') +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
dev.off()
setwd("C:/Users/xsong/Desktop")
library(ggplot2)
library(Cairo)
library(readr)
CairoSVG("temp.svg",family="SimSun")
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=2.7,color='black') +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
dev.off()
setwd("C:/Users/xsong/Desktop")
library(ggplot2)
library(Cairo)
library(readr)
CairoSVG("temp.svg",family="SimSun")
bar <- read_csv("C:/Users/xsong/Desktop/bar.csv")
ggplot(bar,aes(reorder(tag,value),value,color=car,fill=car)) +
geom_bar(stat = 'identity',width = 0.3,position = 'dodge') +
coord_flip()+
geom_text(aes(label = value,position='right',hjust=-1),size=2.7,color='black') +
facet_wrap(~car, nrow = 1) +
labs(x=" ",y=" ") +
theme_classic() +
theme(legend.position='none')
dev.off()
??pdf.option
??htmlSVG
par(mar = c(4, 4, 2, .2))
dat = iris[, 1:2]
smoothScatter(dat, main = 'Starry Night')
sunflowerplot(dat, pch = 20, col = 7, seg.col = 7, size = .1, add = TRUE)
example(persp)
?geom_smooth
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
geom_smooth(span = 0.8) +
facet_wrap(~drv)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
geom_smooth(span = 0.3)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
geom_smooth(span = 0.3)
x = seq(0.1, 10, by = 0.1)
plot(x, 1/x, type = 'l', xlab = 'x', ylab = 'y')
legend('topright', legend = 1:4, col = 1:4, lty = 1, title = 'z')
matplot(t(outer(1:4, (1:100)/10, `/`)),
xlab = "x", ylab = "z/x", type = "l", col = 1:4, lty = 1
)
matplot(t(outer(1:4, (1:100)/10, `/`)),
xlab = "x", ylab = "z/x", type = "l", col = 1:4, lty = 1
)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
geom_smooth(method='loess',span = 0.3)
