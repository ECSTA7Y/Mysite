data(agaricus.train, package='xgboost')
install.packages('xgboost')
require(xgboost)
data(agaricus, package='xgboost')
data(agaricus.train, package='xgboost')
View(agaricus.train)
View(agaricus.train)
agaricus.train[["data"]]
agaricus.train
data(euro)
force(euro.cross)
data?
?euro
?data
data(co2)
force(co2)
data(beaver1)
data(beaver)
?data(beaver1)
?beaver1
require(graphics)
(yl <- range(beaver1$temp, beaver2$temp))
beaver.plot <- function(bdat, ...) {
nam <- deparse(substitute(bdat))
with(bdat, {
# Hours since start of day:
hours <- time %/% 100 + 24*(day - day[1]) + (time %% 100)/60
plot (hours, temp, type = "l", ...,
main = paste(nam, "body temperature"))
abline(h = 37.5, col = "gray", lty = 2)
is.act <- activ == 1
points(hours[is.act], temp[is.act], col = 2, cex = .8)
})
}
op <- par(mfrow = c(2, 1), mar = c(3, 3, 4, 2), mgp = 0.9 * 2:0)
beaver.plot(beaver1, ylim = yl)
beaver.plot(beaver2, ylim = yl)
par(op)
install.packages('pgfSweave')
library(pgfSweave)
library(dplyr)
?dplyr
browseVignettes(package = "dplyr")
?full_join
band_members %>% full_join(band_instruments)
band_instruments
band_members
band_members %>% right_join(band_instruments)
band_members %>% inner_join(band_instruments)
band_members %>% anti_join(band_instruments)
?recode
factor_vec <- factor(c("a", "b", "c"))
recode(factor_vec, a = "Apple", .default = levels(factor_vec))
factor_vec
num_vec <- c(1:4, NA)
num_vec
recode(num_vec, `2` = 20L, `4` = 40L)
x <- c(1, -1, 0, 10)
100 / x
100 / na_if(x, 0)
x
?unloadNamespace
`%>%` <- magrittr::`%>%`
library(haven)
library(dplyr)
`%>%` <- magrittr::`%>%`
library(lattice)
require(stats)
library(ggplot2)
library(rpart)
library(rpart.plot)
library(foreign)
?join
myData <- data.frame(
nation=rep(c('USA','Japan','Libya'),3),
subregion=rep(c('north','south','middle'),each=3),
Awesomeness=rnorm(9)
)
countryData <- data.frame(
country=c('USA','Japan','Libya','Belarus'),
NumberOfSquid=c(rpois(4,10))
)
myData
countryData
myData %>% full_join(countryData,copy=T)
myData %>% full_join(countryData,by=nation,copy=T)
countryData <- countryData %>%
rename(country=nation)
countryData <- countryData %>%
rename(nation=country)
myData %>% full_join(countryData,copy=T)
myData %>% left_join(countryData,copy=T)
?recode
?case_when()
x <- 1:50
case_when(
x %% 35 == 0 ~ "fizz buzz",
x %% 5 == 0 ~ "fizz",
x %% 7 == 0 ~ "buzz",
TRUE ~ as.character(x)
)
?na_if
library(plyr)
join(myData, countryData, by='nation', type='left', match='all')
myData <- data.frame(
nation=rep(c('USA','Japan','Libya'),3),
subregion=rep(c('north','south','middle'),each=3),
Awesomeness=rnorm(9)
)
myData
countryData <- data.frame(
country=c('USA','Japan','Libya','Belarus'),
NumberOfSquid=c(rpois(4,10))
)
countryData
countryData <- countryData %>%
rename(nation=country)
myData <- data.frame(
nation=rep(c('USA','Japan','Libya'),3),
subregion=rep(c('north','south','middle'),each=3),
Awesomeness=rnorm(9)
)
myData
countryData <- data.frame(
nation=c('USA','Japan','Libya','Belarus'),
NumberOfSquid=c(rpois(4,10))
)
countryData
myData %>% full_join(countryData,copy=T)
myData %>% left_join(countryData,copy=T)
library(plyr)
join(myData, countryData, by='nation', type='left', match='all')
?replace
stocks %>% mutate(return=ifelse(year>2016 & is.na(year) == F,NA,return))
stocks %>% mutate(return=replace(year,year>2016,NA))
library(dplyr)
`%>%` <- magrittr::`%>%`
mar<-c(652,1537,598,242,36,46,38,21,218,327,106,67)
caff.marital<-matrix(mar,nrow=3,byrow=T) #byrow=T通过行来填充
caff.marital
#nrow和ncol中的一个被明确给出，则R会计算相应的另一个，从而使得矩阵中的数值与输入的值数目相匹配
x <- array(1:20, dim=c(4,5))
x
h <- c(1:24)
Z <- array(h, dim=c(3,4,2)) #创建3X4X2的数组
Z
Z[,,2]#索引
vec <- as.vector(Z)
vec
# 数组命名
vector1 <- c(5,9,3)
vector2 <- c(10,11,12,13,14,15)
column.names <- c("COL1","COL2","COL3")
row.names <- c("ROW1","ROW2","ROW3")
matrix.names <- c("Matrix1","Matrix2")
result <- array(c(vector1,vector2),dim = c(3,3,2),dimnames = list(row.names,column.names,
matrix.names))
result
result[,,'Matrix2'] #索引
pp <- c("Peter", "Piper", "picked", "a", "peck", "of", "pickled", "peppers")
for(i in seq_along(pp)) print(pp[i])
stocks <- tibble(
year = c(2015, NA, 2015, 2015, NA, 2016, 2016),
qtr = c( 1, 2, NA, NA, 2, NA, 4),
return = c(1.88, 0.44, 0.35, 0.66, 0.92, 0.17, 3.40)
)
knitr::kable(stocks,caption = '数据概要')
stocks %>% mutate(year= ifelse(is.na(qtr)==T,9999,year))
stocks %>% mutate(year= ifelse(is.na(qtr)==T,9999,year))
myData <- data.frame(
nation=rep(c('USA','Japan','Libya'),3),
subregion=rep(c('north','south','middle'),each=3),
Awesomeness=rnorm(9)
)
myData
countryData <- data.frame(
nation=c('USA','Japan','Libya','Belarus'),
NumberOfSquid=c(rpois(4,10))
)
countryData
myData %>% full_join(countryData,copy=T)
myData %>% left_join(countryData,copy=T)
library(plyr)
join(myData, countryData, by='nation', type='left', match='all')
?na_if
stocks <- tibble(
year = c(2015, NA, 2015, 2015, NA, 2016, 2016),
qtr = c( 1, 2, NA, NA, 2, NA, 4),
return = c(1.88, 0.44, 0.35, 0.66, 0.92, 0.17, 3.40)
)
knitr::kable(stocks,caption = '数据概要')
stocks %>% mutate(return=na_if(return,year==2016))
stocks %>% na_if(return,year==2016)
stocks %>% na_if(year==2016)
stocks %>% mutate(return=na_if(year==2016,return))
stocks <- tibble(
year = c(2015, NA, 2015, 2015, NA, 2016, 2016),
qtr = c( 1, 2, NA, NA, 2, NA, 4),
return = c(1.88, 0.44, 0.35, 0.66, 0.92, 0.17, 3.40)
)
knitr::kable(stocks,caption = '数据概要')
stocks %>% mutate(return=na_if(year==2016,return))
starwars %>%
select(name, eye_color) %>%
mutate(eye_color = na_if(eye_color, "unknown"))
starwars %>%
select(name, eye_color) %>%
mutate(eye_color = na_if(name, eye_color=="unknown"))
starwars %>%
select(name, eye_color) %>%
mutate(name = na_if(name , eye_color=="blue"))
stocks %>% mutate(return=na_if(year==2016))
stocks %>% mutate(return=na_if(year==2016,return))
stocks %>% mutate(return=na_if(year,2016))
stocks %>% mutate(year=na_if(year,2016))
stocks %>% mutate(year=na_if(year>2016))
stocks %>% mutate(year=na_if(year,2016))
stocks %>% mutate(year= ifelse(is.na(qtr)==T,9999,year))
stocks %>% mutate(year= ifelse(is.na(qtr)==T,9999,year))
stocks %>% mutate(qtr=if_else(qtr,qtr,qtr,9999))
stocks %>% mutate(year= ifelse(is.na(qtr)==T,9999,year))
stocks %>% mutate(year= ifelse(is.na(qtr)==T,9999,year))
stocks %>% mutate(qtr=if_else(qtr==qtr,qtr,qtr,9999))
stocks %>% mutate(year= ifelse(is.na(qtr)==T,9999,year))
stocks %>% mutate(year= ifelse(is.na(qtr)==T,9999,year))
stocks %>% mutate(year=if_else(qtr==qtr,qtr,qtr,9999))
?replace_na
?replace_with_na_if
update.packages('dplyr')
?replace_na
???replace_na
???replace_na
??replace_na
library(tidyr)
?replace_with_na_all
??replace_with_na_all
??replace_with_na_if
update.packages('tidyr')
library(tidyr)
?replace_with_na_if
??replace_with_na_if
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
pdf.options(family='GB1')
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
setwd('F:\\Mysite\\Mysite')
blogdown:::serve_site()
blogdown:::stop_server()
